<%- include('./partials/header', { title: 'Upload Picture', mainClass: 'upload-page' }) %>
    <%- include('./partials/messages') %>
    
    <section class="upload-form-container">
        <h2>Upload New Picture</h2>
        <p>Select an image file to upload to your picture database.</p>
        
        <form action="/api/pictures" method="POST" enctype="multipart/form-data" class="upload-form" id="uploadForm">
            <div class="form-group">
                <label for="picture" class="form-label">Choose Image</label>
                <div class="file-input-container">
                    <input type="file" name="picture" id="picture" accept="image/*" required 
                        class="file-input" aria-required="true">
                    <div class="file-preview" id="filePreview">
                        <div class="preview-placeholder">
                            <span>No file selected</span>
                        </div>
                        <img id="imagePreview" src="" alt="Image preview" class="hidden">
                    </div>
                </div>
            </div>
            
            <div class="form-group">
                <label for="description" class="form-label">Description</label>
                <textarea name="description" id="description" rows="3" 
                    placeholder="Enter a description for this image" 
                    class="form-control" aria-describedby="descriptionHelp"></textarea>
                <small id="descriptionHelp" class="form-text">Optional: Add details about this image</small>
            </div>
            
            <div class="form-actions">
                <button type="submit" class="btn btn-primary" id="uploadBtn">Upload Picture</button>
                <a href="/" class="btn btn-secondary">Cancel</a>
            </div>
            
            <div class="upload-progress hidden" id="uploadProgress">
                <div class="progress-bar">
                    <div class="progress-bar-fill" id="progressBarFill"></div>
                </div>
                <div class="progress-text" id="progressText">Uploading: 0%</div>
            </div>
        </form>
    </section>

<%- include('./partials/footer', { scripts: ['/js/upload.js'] }) %>
